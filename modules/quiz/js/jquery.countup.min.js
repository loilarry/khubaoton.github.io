(function(d) {
  function m(e, b) {
    var c = e.find(".digit");
    if(c.is(":animated") || e.data("digit") == b) {
      return!1
    }
    e.data("digit", b);
    var a = d("<span>", {"class":"digit", css:{top:"-2.1em", opacity:0}, html:b});
    c.before(a).removeClass("static").animate({top:"2.5em", opacity:0}, "fast", function() {
      c.remove()
    });
    a.delay(100).animate({top:0, opacity:1}, "fast", function() {
      a.addClass("static")
    })
  }
  d.fn.countup = function(e) {
    function b(a, b, c) {
      m(j.eq(a), Math.floor(c / 10) % 10);
      m(j.eq(b), c % 10)
    }
    var c = d.extend({callback:function() {
    }, start:new Date}, e), a = 0, f, g, h, k, j, l = this;
    l.addClass("countdownHolder");
    d.each(["Days", "Hours", "Minutes", "Seconds"], function(a) {
      d('<span class="count' + this + '">').html('<span class="position"><span class="digit static">0</span></span><span class="position"><span class="digit static">0</span></span>').appendTo(l);
      "Seconds" != this && l.append('<span class="countDiv countDiv' + a + '"></span>')
    });
    j = this.find(".position");
    (function n() {
      a = Math.floor((new Date - c.start) / 1E3);
      f = Math.floor(a / 86400);
      b(0, 1, f);
      a -= 86400 * f;
      g = Math.floor(a / 3600);
      b(2, 3, g);
      a -= 3600 * g;
      h = Math.floor(a / 60);
      b(4, 5, h);
      k = a -= 60 * h;
      b(6, 7, k);
      c.callback(f, g, h, k);
      setTimeout(n, 1E3)
    })();
    return this
  }
})(jQuery);

